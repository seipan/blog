---
title: 'Minioã§Waiting for MinIO to be readyã‚¨ãƒ©ãƒ¼'
description: 'Minioã§Waiting for MinIO to be readyã‚¨ãƒ©ãƒ¼ã®å¯¾å‡¦æ³•'
pubDate: 2026-01-01
---

## å§‹ã¾ã‚Š
Minioã‚’Kubernetesä¸Šã§é‹ç”¨ã—ã¦ã„ã‚‹ã¨Argocdä¸Šã§Progressingã®ã¾ã¾é€²ã¾ãªããªã£ã¦ã„ãŸã€‚

```
WaitingMinIOIsHealthy Waiting for MinIO to be ready 38303 2d ago Last Saturday at 7:03 PM 3m ago Today at 12:43 AM
```

minioã®Podã®ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãŸã€‚

```
Error: Write quorum could not be established on pool: 0, set: 0, expected write quorum: 3, drives-online: 2 (*errors.errorString)
```
æ›¸ãè¾¼ã¿ã«ã¯3å°ã®ãƒ‰ãƒ©ã‚¤ãƒ–ãŒå¿…è¦ã ãŒã€2å°ã—ã‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã«ãªã£ã¦ã„ãªã„ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã€‚

ã—ã‹ã—ã€PVCã®çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹ã¨å…¨ã¦Boundã«ãªã£ã¦ã„ã‚‹ã€‚
```
â¯ kubectl get pvc -n minio
NAME                     STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   VOLUMEATTRIBUTESCLASS   AGE
data0-myminio-pool-0-0   Bound    pvc-97a7fff5-954c-4099-82be-6bd6b8141ede   10Gi       RWO            longhorn       <unset>                 46d
data0-myminio-pool-0-1   Bound    pvc-509cf6ae-dd62-48c7-8943-9fca50cc88d7   10Gi       RWO            longhorn       <unset>                 46d
data0-myminio-pool-0-2   Bound    pvc-3004a824-d1c9-4e07-b041-d5cfa5b2c132   10Gi       RWO            longhorn       <unset>                 46d
data0-myminio-pool-0-3   Bound    pvc-0ad1b2d0-733f-43d3-b440-feef6b10422d   10Gi       RWO            longhorn       <unset>                 46d
```

minioã®podã®çŠ¶æ…‹ã‚’è¦‹ã‚‹ã¨, 4å°æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ãŒå„podã§åŒæ§˜ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹ã€‚
```
ğŸŒ± ğŸŒ k8s-master in ~ x86_64
â¯ kubectl get pod -o wide -n minio
NAME               READY   STATUS             RESTARTS          AGE    IP           NODE     NOMINATED NODE   READINESS GATES
myminio-pool-0-0   2/2     Running            0                 30d    10.0.1.222   newpi2   <none>           <none>
myminio-pool-0-1   2/2     Running            0                 2d5h   10.0.2.17    newpi1   <none>           <none>
myminio-pool-0-2   2/2     Running            0                 45h    10.0.3.179   ana      <none>           <none>
myminio-pool-0-3   2/2     Running            0                 30d    10.0.1.132   newpi2   <none>           <none>
```

```
Error: Write quorum could not be established on pool: 0, set: 0, expected write quorum: 3, drives-online: 2 (*errors.errorString)
```

å…ƒã€…4ã¤ã®PodãŒç«‹ã£ã¦ã„ã¦ã€2ã—ã‹Onlineã¨ãªã£ã¦ã„ãªã„ã®ã§2å°ä¹—ã£ã¦ã„ã‚‹newpi2ã®ãƒãƒ¼ãƒ‰ä½•ã‹èµ·ã“ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚

newpi2ã§dmesgã‚’ç¢ºèªã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆå‡¦ç†ãŒè¡Œã‚ã‚ŒãŸãƒ­ã‚°ãŒå‡ºã¦ã„ãŸã€‚
```
@newpi2:~$ sudo dmesg -T | egrep -i "i/o|blk|nvme|usb|reset|timeout|error|read-only|ext4|xfs|hung" | tail -n 200
[Mon Dec 29 15:57:01 2025] EXT4-fs (sdh): unmounting filesystem 8bf510b7-5dc4-4751-8b9e-a92dc68c00db.
[Mon Dec 29 15:57:01 2025] EXT4-fs (sde): unmounting filesystem c742ccdb-16c1-4db7-af80-13db6349ebdd
```

ã•ã‚‰ã«vcgencmdã§ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«é›»åœ§ä½ä¸‹ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã£ãŸã€‚
```
@newpi2:~$ sudo vcgencmd get_throttled
throttled=0x50005
```
ref: https://raspberrypi.mongonta.com/underpower/


## å¯¾å‡¦

newpi2ã‹ã‚‰è¿½ã„å‡ºã—ã¦ã€å†ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã™ã‚‹ã¨æ²»ã£ãŸã€‚

```
kubectl cordon newpi2
kubectl delete pod -n minio myminio-pool-0-0 myminio-pool-0-3
```

## å‚™å¿˜éŒ²

ãŠãã‚‰ãnewpi2ã®é›»æºãŒä¸å®‰å®šãªã®ã§é›»åœ§ãŒä¸‹ãŒã£ã¦ã—ã¾ã£ã¦ã€ä¸€æ™‚ã¦ãã«ãƒ‡ã‚£ã‚¹ã‚¯ I/O ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã—ã¾ã£ãŸã®ã ã¨æ€ã†ã€‚
ãã‚Œã«ã‚ˆã£ã¦ä¸€ç¬æ›¸ãè¾¼ã¿ãŒã§ããªããªã£ãŸãŒã€longhornå´ã§å¾©å¸°ã—ã¦ã„ã‚‹ã€‚ãŒã€minioå´ã§ã¯2å°ã—ã‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã«ãªã£ã¦ã„ãªã„ã¨èªè­˜ã—ã¦ã—ã¾ã„ã€æ›¸ãè¾¼ã¿ã‚¯ã‚©ãƒ¼ãƒ©ãƒ ãŒç¢ºç«‹ã§ããªã„çŠ¶æ…‹ã«ãªã£ã¦ã—ã¾ã£ãŸã€‚
newpi1ã‚‚åŒã˜ç’°å¢ƒãªã®ã§ãƒ©ã‚ºãƒ™ãƒªãƒ¼ãƒ‘ã‚¤ã®é›»æºå‘¨ã‚Šã‚’è¦‹ç›´ã•ãªã„ã¨ã„ã‘ãªã„ã€‚
